/* ========== Lightbox (reusable) ========== */

/* شبكة المصغّرات */
.w-thumbs{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:12px;
}
.w-thumbs figure{ margin:0 }
.w-thumbs img{
  width:100%; height:140px; object-fit:cover;
  border-radius:12px; cursor:zoom-in;
  box-shadow: 0 6px 18px rgba(2,8,23,.12);
}
.w-thumbs figcaption{ margin-top:6px; font-size:.9rem; color:#475569 }

/* طبقة اللايت بوكس */
.w-lightbox{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center;
  background:rgba(15,23,42,.6); z-index:3000; padding:16px;
}
.w-lightbox.open{ display:flex }
.w-lightbox .card{
  background:#fff; border-radius:14px; padding:10px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  max-width:calc(100vw - 32px);
  max-height:calc(100vh - 32px);
}

/* صورة اللايت-بوكس — مرنة مع الحفاظ على النسبة */
.w-lightbox img{
  display:block; border-radius:10px;
  /* العرض المفضّل لسطح المكتب + حافة آمنة */
  width: min(var(--lb-w, 720px), calc(100vw - 48px));
  /* اجعل الارتفاع يتبع العرض مع سقف للارتفاع */
  height: auto;
  max-height: calc(100vh - 160px);
  /* حافظ على النسبة (يُمرَّر من JS) */
  aspect-ratio: var(--lb-aspect, 16/9);
  object-fit: contain; /* بلا قص */
}

/* تحسين للموبايل */
@media (max-width: 640px){
  .w-lightbox img{
    width: calc(100vw - 32px);
    max-height: calc(100vh - 120px);
  }
}
